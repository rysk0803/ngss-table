!function(){"use strict";angular.module("ryTable",[]).directive("angularRyTable",function(){return{restrict:"E",scope:{keys:"=",data:"=",totalCount:"=",pagerows:"=",pagingFunc:"&"},link:function(scope,element,attr){scope.$watch("data",function(){scope.wData=scope.data,angular.isUndefined(scope.data)&&(scope.wData=[])})},templateUrl:"html/angular-ry-table.html"}}).directive("onFinishRepeatRender",function($timeout){return{restrict:"A",link:function(scope,element,attr){scope.$last===!0&&$timeout(function(){scope.$emit("onFinishRowsRepeat")})}}}).directive("pagination",function(){return{restrict:"E",replace:!0,link:function(scope,element,attrs){var pagingfunc,cloneData=[],pagerows=20;scope.pagerows&&(pagerows=scope.pagerows),scope.$watch("data",function(){0==scope.wData.length?(scope.page="-",scope.pages="-",scope.isFirstPage=!0,scope.isLastPage=!0):(scope.pagingFunc()?(pagingfunc=scope.pagingFunc(),scope.total=scope.totalCount):(pagingfunc=function(s,o){return cloneData.filter(function(v,i,e){return i>=s-1&&i<s+o-1})},cloneData=scope.wData,scope.total=scope.data.length),scope.page=1,scope.pages=Math.ceil(scope.total/pagerows),scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.isFirstPage=!0,scope.isLastPage=!1,scope.page==scope.pages&&(scope.isLastPage=!0),setCount(scope.page,pagerows,scope.total))}),scope.first=function(){scope.page=1,scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!1,scope.isFirstPage=!0,setCount(scope.page,pagerows,scope.total)},scope.prev=function(){scope.page-=1,scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),1==scope.page&&(scope.isFirstPage=!0),scope.isLastPage=!1,setCount(scope.page,pagerows,scope.total)},scope.next=function(){scope.page+=1,scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.page==scope.pages&&(scope.isLastPage=!0),scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)},scope.last=function(){scope.page=scope.pages,scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!0,scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)};var setCount=function(np,nr,total){scope.startCount=pageStartCount(np,nr),scope.endCount=pageEndCount(np,nr,total)},pageStartCount=function(np,nr){return 0===np?0:(np-1)*nr+1},pageEndCount=function(np,nr,total){return 0===np?0:np*nr>total?total:np*nr}},templateUrl:"html/pagination.html"}}).directive("mainTable",function(){return{restrict:"E",replace:!0,link:function(scope,element,attrs){var children=element.children("div"),header=children[0],body=children[1];body.addEventListener("scroll",function(){header.scrollLeft=body.scrollLeft}),scope.columnWidth=function(k){return{width:calcColumnWidth(k)+"px"}},scope.tableWidth=function(){return{width:calcTableWidth()+"px"}},scope.$on("onFinishRowsRepeat",function(onFinishRepeatEvent){body.scrollHeight>body.offsetHeight?header.style.width="calc(100% - 17px)":header.style.width=""});var calcStrLength=function(d){return 25*d.length},calcColumnWidth=function(k){if(k.width)return parseInt(k.width);var keyLength=calcStrLength(k.label),dataLength=0==scope.wData.length?0:calcStrLength(_.max(scope.wData,function(d){return d[k.key].length})[k.key]);return keyLength>dataLength?keyLength:dataLength},calcTableWidth=function(){var sum=0;return scope.keys.forEach(function(k){sum+=calcColumnWidth(k)}),sum}},templateUrl:"html/mainTable.html"}})}(),function(){"use strict";angular.module("app04",["ryTable"]).controller("MainController",["$scope","$document",function($scope,$document){var d2=[{id:"1",time:"2016/9/8 9:10",status:"INFO","class":"com.mazda.example.Example01",data:"テストデータです。ああああああああああああああ",user:"v0000001"},{id:"2",time:"2016/9/9 9:10",status:"INFO","class":"com.mazda.example.Example02",data:"テストデータです。ああああああああああああああ",user:"v0000002"},{id:"3",time:"2016/9/10 9:10",status:"INFO","class":"com.mazda.example.Example03",data:"テストデータです。ああああああああああああああ",user:"v0000003"},{id:"4",time:"2016/9/11 9:10",status:"INFO","class":"com.mazda.example.Example04",data:"テストデータです。ああああああああああああああ",user:"v0000004"},{id:"5",time:"2016/9/12 9:10",status:"INFO","class":"com.mazda.example.Example05",data:"テストデータです。ああああああああああああああ",user:"v0000005"},{id:"6",time:"2016/9/13 9:10",status:"INFO","class":"com.mazda.example.Example06",data:"テストデータです。ああああああああああああああ",user:"v0000006"},{id:"7",time:"2016/9/14 9:10",status:"INFO","class":"com.mazda.example.Example07",data:"テストデータです。ああああああああああああああ",user:"v0000007"},{id:"8",time:"2016/9/15 9:10",status:"INFO","class":"com.mazda.example.Example08",data:"テストデータです。ああああああああああああああ",user:"v0000008"},{id:"9",time:"2016/9/16 9:10",status:"INFO","class":"com.mazda.example.Example09",data:"テストデータです。ああああああああああああああ",user:"v0000009"},{id:"10",time:"2016/9/17 9:10",status:"INFO","class":"com.mazda.example.Example10",data:"テストデータです。ああああああああああああああ",user:"v0000010"},{id:"11",time:"2016/9/18 9:10",status:"INFO","class":"com.mazda.example.Example11",data:"テストデータです。ああああああああああああああ",user:"v0000011"},{id:"12",time:"2016/9/19 9:10",status:"INFO","class":"com.mazda.example.Example12",data:"テストデータです。ああああああああああああああ",user:"v0000012"},{id:"13",time:"2016/9/20 9:10",status:"INFO","class":"com.mazda.example.Example13",data:"テストデータです。ああああああああああああああ",user:"v0000013"},{id:"14",time:"2016/9/21 9:10",status:"INFO","class":"com.mazda.example.Example14",data:"テストデータです。ああああああああああああああ",user:"v0000014"},{id:"15",time:"2016/9/22 9:10",status:"INFO","class":"com.mazda.example.Example15",data:"テストデータです。ああああああああああああああ",user:"v0000015"},{id:"16",time:"2016/9/23 9:10",status:"INFO","class":"com.mazda.example.Example16",data:"テストデータです。ああああああああああああああ",user:"v0000016"},{id:"17",time:"2016/9/24 9:10",status:"INFO","class":"com.mazda.example.Example17",data:"テストデータです。ああああああああああああああ",user:"v0000017"},{id:"18",time:"2016/9/25 9:10",status:"INFO","class":"com.mazda.example.Example18",data:"テストデータです。ああああああああああああああ",user:"v0000018"},{id:"19",time:"2016/9/26 9:10",status:"INFO","class":"com.mazda.example.Example19",data:"テストデータです。ああああああああああああああ",user:"v0000019"},{id:"20",time:"2016/9/27 9:10",status:"INFO","class":"com.mazda.example.Example20",data:"テストデータです。ああああああああああああああ",user:"v0000020"},{id:"21",time:"2016/9/28 9:10",status:"INFO","class":"com.mazda.example.Example21",data:"テストデータです。ああああああああああああああ",user:"v0000021"},{id:"22",time:"2016/9/29 9:10",status:"INFO","class":"com.mazda.example.Example22",data:"テストデータです。aaaaaaaaaaaaaaaaaaaaaaaaaああああああああああああああ",user:"v0000022"}],dx=[{id:"01",time:"2016/9/8 9:10",status:"INFO","class":"com.mazda.example.Example01",data:"テストデータです。ああああああああああああああ",user:"v0000001"},{id:"02",time:"2016/9/9 9:10",status:"INFO","class":"com.mazda.example.Example02",data:"テストデータです。ああああああああああああああ",user:"v0000002"},{id:"03",time:"2016/9/10 9:10",status:"INFO","class":"com.mazda.example.Example03",data:"テストデータです。ああああああああああああああ",user:"v0000003"},{id:"04",time:"2016/9/11 9:10",status:"INFO","class":"com.mazda.example.Example04",data:"テストデータです。ああああああああああああああ",user:"v0000004"},{id:"05",time:"2016/9/12 9:10",status:"INFO","class":"com.mazda.example.Example05",data:"テストデータです。ああああああああああああああ",user:"v0000005"},{id:"06",time:"2016/9/13 9:10",status:"INFO","class":"com.mazda.example.Example06",data:"テストデータです。ああああああああああああああ",user:"v0000006"},{id:"7",time:"2016/9/14 9:10",status:"INFO","class":"com.mazda.example.Example07",data:"テストデータです。ああああああああああああああ",user:"v0000007"},{id:"8",time:"2016/9/15 9:10",status:"INFO","class":"com.mazda.example.Example08",data:"テストデータです。ああああああああああああああ",user:"v0000008"},{id:"9",time:"2016/9/16 9:10",status:"INFO","class":"com.mazda.example.Example09",data:"テストデータです。ああああああああああああああ",user:"v0000009"},{id:"10",time:"2016/9/17 9:10",status:"INFO","class":"com.mazda.example.Example10",data:"テストデータです。ああああああああああああああ",user:"v0000010"},{id:"11",time:"2016/9/18 9:10",status:"INFO","class":"com.mazda.example.Example11",data:"テストデータです。ああああああああああああああ",user:"v0000011"},{id:"12",time:"2016/9/19 9:10",status:"INFO","class":"com.mazda.example.Example12",data:"テストデータです。ああああああああああああああ",user:"v0000012"},{id:"13",time:"2016/9/20 9:10",status:"INFO","class":"com.mazda.example.Example13",data:"テストデータです。ああああああああああああああ",user:"v0000013"},{id:"14",time:"2016/9/21 9:10",status:"INFO","class":"com.mazda.example.Example14",data:"テストデータです。ああああああああああああああ",user:"v0000014"},{id:"15",time:"2016/9/22 9:10",status:"INFO","class":"com.mazda.example.Example15",data:"テストデータです。ああああああああああああああ",user:"v0000015"},{id:"16",time:"2016/9/23 9:10",status:"INFO","class":"com.mazda.example.Example16",data:"テストデータです。ああああああああああああああ",user:"v0000016"},{id:"17",time:"2016/9/24 9:10",status:"INFO","class":"com.mazda.example.Example17",data:"テストデータです。ああああああああああああああ",user:"v0000017"},{id:"18",time:"2016/9/25 9:10",status:"INFO","class":"com.mazda.example.Example18",data:"テストデータです。ああああああああああああああ",user:"v0000018"},{id:"19",time:"2016/9/26 9:10",status:"INFO","class":"com.mazda.example.Example19",data:"テストデータです。ああああああああああああああ",user:"v0000019"},{id:"20",time:"2016/9/27 9:10",status:"INFO","class":"com.mazda.example.Example20",data:"テストデータです。ああああああああああああああ",user:"v0000020"},{id:"21",time:"2016/9/28 9:10",status:"INFO","class":"com.mazda.example.Example21",data:"テストデータです。ああああああああああああああ",user:"v0000021"},{id:"22",time:"2016/9/29 9:10",status:"INFO","class":"com.mazda.example.Example22",data:"テストデータです。aaaaaaaaaaaaaaaaaaaaaaaaaああああああああああああああ",user:"v0000022"}],k2=[{key:"id",label:"ID",width:"100"},{key:"time",label:"日時"},{key:"status",label:"ステータス",width:"200"},{key:"class",label:"クラス名"},{key:"data",label:"データ"},{key:"user",label:"ユーザー"}];$scope.pagingfunction=function(o,l){return console.log("server side paging"),d2.filter(function(v,i,e){return i>=o-1&&i<o+l-1})},$scope.d2,$scope.k2=k2,$scope.totalCount=22,$scope.change=function(){d2=dx,$scope.d2=dx,$scope.totalCount=d2.length}}])}(),function(){"use strict";angular.module("mfTable",[]).directive("mfTable",function(){return{restrict:"E",scope:{keys:"=",data:"=",totalCount:"=",pagerows:"=",pagingFunc:"&"},link:function(scope,element,attr){scope.$watch("data",function(){scope.wData=scope.data,angular.isUndefined(scope.data)&&(scope.wData=[])})},templateUrl:"html/mfTable.html"}}).directive("onFinishRepeatRender",function($timeout){return{restrict:"A",link:function(scope,element,attr){scope.$last===!0&&$timeout(function(){scope.$emit("onFinishRowsRepeat")})}}}).directive("ssPageNation",function(){return{restrict:"E",replace:!0,scope:{totalCount:"=",pagerows:"=",pagingFunc:"&"},link:function(scope,element,attrs){var pagerows=20;scope.pagerows&&(pagerows=scope.pagerows),scope.pagination||(scope.pagination=!0),scope.$watch("totalCount",function(){scope.page=1,scope.total=scope.totalCount,scope.pages=Math.ceil(scope.total/pagerows),scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),scope.isFirstPage=!0,scope.isLastPage=!1,scope.page==scope.pages&&(scope.isLastPage=!0),setCount(scope.page,pagerows,scope.total)});var setCount=function(np,nr,total){scope.startCount=pageStartCount(np,nr),scope.endCount=pageEndCount(np,nr,total)};scope.first=function(){scope.page=1,scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!1,scope.isFirstPage=!0,setCount(scope.page,pagerows,scope.total)},scope.prev=function(){scope.page-=1,scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),1==scope.page&&(scope.isFirstPage=!0),scope.isLastPage=!1,setCount(scope.page,pagerows,scope.total)},scope.next=function(){scope.page+=1,scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),scope.page==scope.pages&&(scope.isLastPage=!0),scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)},scope.last=function(){scope.page=scope.pages,scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!0,scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)};var pageStartCount=function(np,nr){return 0===np?0:(np-1)*nr+1},pageEndCount=function(np,nr,total){return 0===np?0:np*nr>total?total:np*nr}},templateUrl:"html/paging.html"}}).directive("pageNation",function(){return{restrict:"E",replace:!0,link:function(scope,element,attrs){var pagingfunc,cloneData=[],pagerows=20;scope.pagerows&&(pagerows=scope.pagerows),scope.$watch("data",function(){0==scope.wData.length?(scope.page="-",scope.pages="-",scope.isFirstPage=!0,scope.isLastPage=!0):(scope.pagingFunc()?(pagingfunc=scope.pagingFunc(),scope.total=scope.totalCount):(pagingfunc=function(s,o){return cloneData.filter(function(v,i,e){return i>=s-1&&i<s+o-1})},cloneData=scope.wData,scope.total=scope.data.length),scope.page=1,scope.pages=Math.ceil(scope.total/pagerows),scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.isFirstPage=!0,scope.isLastPage=!1,scope.page==scope.pages&&(scope.isLastPage=!0),setCount(scope.page,pagerows,scope.total))}),scope.first=function(){scope.page=1,scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!1,scope.isFirstPage=!0,setCount(scope.page,pagerows,scope.total)},scope.prev=function(){scope.page-=1,scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),1==scope.page&&(scope.isFirstPage=!0),scope.isLastPage=!1,setCount(scope.page,pagerows,scope.total)},scope.next=function(){scope.page+=1,scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.page==scope.pages&&(scope.isLastPage=!0),scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)},scope.last=function(){scope.page=scope.pages,scope.wData=pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!0,scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)};var setCount=function(np,nr,total){scope.startCount=pageStartCount(np,nr),scope.endCount=pageEndCount(np,nr,total)},pageStartCount=function(np,nr){return 0===np?0:(np-1)*nr+1},pageEndCount=function(np,nr,total){return 0===np?0:np*nr>total?total:np*nr}},templateUrl:"html/paging.html"}}).directive("customTable",function(){return{restrict:"E",replace:!0,link:function(scope,element,attrs){var children=element.children("div"),header=children[0],body=children[1];body.addEventListener("scroll",function(){header.scrollLeft=body.scrollLeft}),scope.columnWidth=function(k){return{width:calcColumnWidth(k)+"px"}},scope.tableWidth=function(){return{width:calcTableWidth()+"px"}},scope.$on("onFinishRowsRepeat",function(onFinishRepeatEvent){body.scrollHeight>body.offsetHeight?header.style.width="calc(100% - 17px)":header.style.width=""});var calcStrLength=function(d){return 25*d.length},calcColumnWidth=function(k){if(k.width)return parseInt(k.width);var keyLength=calcStrLength(k.label),dataLength=0==scope.wData.length?0:calcStrLength(_.max(scope.wData,function(d){return d[k.key].length})[k.key]);return keyLength>dataLength?keyLength:dataLength},calcTableWidth=function(){var sum=0;return scope.keys.forEach(function(k){sum+=calcColumnWidth(k)}),sum}},templateUrl:"html/customTable.html"}})}(),function(){"use strict";angular.module("mfTable",[]).directive("mfTable",function(){return{restrict:"E",scope:{keys:"=",data:"=",pagerows:"="},link:function(scope,element,attr){scope.$watch("data",function(){scope.wData=scope.data})},templateUrl:"html/mfTable.html"}}).directive("onFinishRepeatRender",function($timeout){return{restrict:"A",link:function(scope,element,attr){scope.$last===!0&&$timeout(function(){scope.$emit("onFinishRowsRepeat")})}}}).directive("ssPageNation",function(){return{restrict:"E",replace:!0,scope:{totalCount:"=",pagerows:"=",pagingFunc:"&"},link:function(scope,element,attrs){var pagerows=20;scope.pagerows&&(pagerows=scope.pagerows),scope.pagination||(scope.pagination=!0),scope.$watch("totalCount",function(){scope.page=1,scope.total=scope.totalCount,scope.pages=Math.ceil(scope.total/pagerows),scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),scope.isFirstPage=!0,scope.isLastPage=!1,scope.page==scope.pages&&(scope.isLastPage=!0),setCount(scope.page,pagerows,scope.total)});var setCount=function(np,nr,total){scope.startCount=pageStartCount(np,nr),scope.endCount=pageEndCount(np,nr,total)};scope.first=function(){scope.page=1,scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!1,scope.isFirstPage=!0,setCount(scope.page,pagerows,scope.total)},scope.prev=function(){scope.page-=1,scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),1==scope.page&&(scope.isFirstPage=!0),scope.isLastPage=!1,setCount(scope.page,pagerows,scope.total)},scope.next=function(){scope.page+=1,scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),scope.page==scope.pages&&(scope.isLastPage=!0),scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)},scope.last=function(){scope.page=scope.pages,scope.pagingFunc()(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!0,scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)};var pageStartCount=function(np,nr){return 0===np?0:(np-1)*nr+1},pageEndCount=function(np,nr,total){return 0===np?0:np*nr>total?total:np*nr}},templateUrl:"html/paging.html"}}).directive("pageNation",function(){return{restrict:"E",replace:!0,link:function(scope,element,attrs){var cloneData=[],pagerows=20;scope.pagerows&&(pagerows=scope.pagerows),scope.pagination||(scope.pagination=!0),scope.$watch("data",function(){scope.pagination&&(cloneData=scope.wData,scope.page=1,scope.total=scope.data.length,scope.pages=Math.ceil(scope.total/pagerows),scope.pagingfunc(scope.page,pagerows),scope.isFirstPage=!0,scope.isLastPage=!1,scope.page==scope.pages&&(scope.isLastPage=!0),setCount(scope.page,pagerows,scope.total))});var setCount=function(np,nr,total){scope.startCount=pageStartCount(np,nr),scope.endCount=pageEndCount(np,nr,total)};scope.pagingfunc=function(s,o){scope.wData=cloneData.filter(function(v,i,e){return i>=s-1&&i<s+o-1})},scope.first=function(){scope.page=1,scope.pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!1,scope.isFirstPage=!0,setCount(scope.page,pagerows,scope.total)},scope.prev=function(){scope.page-=1,scope.pagingfunc(pageStartCount(scope.page,pagerows),pagerows),1==scope.page&&(scope.isFirstPage=!0),scope.isLastPage=!1,setCount(scope.page,pagerows,scope.total)},scope.next=function(){scope.page+=1,scope.pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.page==scope.pages&&(scope.isLastPage=!0),scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)},scope.last=function(){scope.page=scope.pages,scope.pagingfunc(pageStartCount(scope.page,pagerows),pagerows),scope.isLastPage=!0,scope.isFirstPage=!1,setCount(scope.page,pagerows,scope.total)};var pageStartCount=function(np,nr){return 0===np?0:(np-1)*nr+1},pageEndCount=function(np,nr,total){return 0===np?0:np*nr>total?total:np*nr}},templateUrl:"html/paging.html"}}).directive("customTable",function(){return{restrict:"E",replace:!0,link:function(scope,element,attrs){var children=element.children("div"),header=children[0],body=children[1];body.addEventListener("scroll",function(){header.scrollLeft=body.scrollLeft}),scope.columnWidth=function(k){return{width:calcColumnWidth(k)+"px"}},scope.tableWidth=function(){return{width:calcTableWidth()+"px"}},scope.$on("onFinishRowsRepeat",function(onFinishRepeatEvent){body.scrollHeight>body.offsetHeight?header.style.width="calc(100% - 17px)":header.style.width=""});var calcStrEmLength=function(d){return 16*d.length},calcColumnWidth=function(k){if(k.width)return parseInt(k.width);var keyLength=calcStrEmLength(k.label),dataLength=calcStrEmLength(_.max(scope.wData,function(d){return d[k.key].length})[k.key]);return keyLength>dataLength?keyLength:dataLength},calcTableWidth=function(){var sum=0;return scope.keys.forEach(function(k){sum+=calcColumnWidth(k)}),sum}},templateUrl:"html/customTable.html"}})}();